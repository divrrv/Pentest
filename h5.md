# h5 Injected Sequel

## x) Lue/katso/kuuntele ja tiivistä

#### Karvinen 2016

 - Käy läpi komennot yksinkertaisen postgreSQL tietokannan luontiin

#### OWASP 2017

 - Kertoo esimerkki hyökkäyksistä
 - Miten estää/ suojautua hyökkäyksiltä
 - Mitä haittoja tai mihin hyökkäykset voivat kohdistua

## a) CRUD

#### Asensin ja käynnistin postgreSQL:äm seuraavilla komennoilla:

    sudo apt-get update
    sudo apt-get -y install postgresql
    sudo systemctl start postgresql # needed in 2023
    sudo -u postgres createdb $(whoami)
    sudo -u postgres createuser $(whoami)
        
#### Näillä komennoilla loin tietokannan ja tiedot sinne:

![image](https://github.com/divrrv/Pentest/assets/112497215/18132f10-7a5c-4112-a5b3-619942a9c24b)

#### C

    CREATE TABLE students (id SERIAL PRIMARY KEY, name VARCHAR(200));

#### R

    SELECT * FROM students;

#### U

    UPDATE students SET name='Louis Diarra' WHERE name='Louis';

#### D

    DELETE FROM students WHERE name='Assu';

## b) SQLi me

#### kuvaile

 - Verkkosivu josta voi hakea oppilaita nimen mukaan

#### demonstroi
![image](https://github.com/divrrv/Pentest/assets/112497215/3afdaa8b-234a-446c-945d-a651935a3a0c)

# PortSwigger Labs

 - Suurinosa tehtävistä oli erittäin haastavia ja päädyin katsomaan solution/ community solutions kohdat ja niiden avulla selvisin tehtävistä.

## c) poistettu

## d) Lab: SQL injection vulnerability allowing login bypass

 - Tämä tehtävä ratkesi x tehtävän PortSwigger -> Subverting application logic, kohdan esimerkin avulla.
 - oikea vastaus oli syöttää käyttäjäksi ja salasanaksi "administrator'--"

![image](https://github.com/divrrv/Pentest/assets/112497215/a47eca44-2dc8-43be-a3c0-c8d6bc5a9dde)

## e) Lab: SQL injection attack, querying the database type and version on Oracle

![image](https://github.com/divrrv/Pentest/assets/112497215/37d7c823-8547-41dd-94c1-3ca7636b814c)

## f) Lab: SQL injection attack, querying the database type and version on MySQL and Microsoft

![image](https://github.com/divrrv/Pentest/assets/112497215/64fc7c5d-7d26-44de-b86b-3ccb4c8c8b04)

## g) Lab: SQL injection attack, listing the database contents on Oracle

## h) Lab: SQL injection UNION attack, determining the number of columns returned by the query

![image](https://github.com/divrrv/Pentest/assets/112497215/3d782947-f073-4496-b3f6-295e7442c764)

## i) Lab: SQL injection UNION attack, retrieving data from other tables

![image](https://github.com/divrrv/Pentest/assets/112497215/7475c452-9231-48e2-932d-88ca32020a06)

## j) Lab: SQL injection UNION attack, retrieving multiple values in a single column

![image](https://github.com/divrrv/Pentest/assets/112497215/ce843dd7-008e-4b0e-a554-af88a8dd7cdf)

## Lähteet

 - https://terokarvinen.com/2023/eettinen-hakkerointi-2023/#h5-injected-sequel
 - https://portswigger.net
 - https://terokarvinen.com/2016/03/05/postgresql-install-and-one-table-database-sql-crud-tutorial-for-ubuntu/
 - https://owasp.org/www-project-top-ten/2017/A1_2017-Injection
 - https://portswigger.net/web-security/sql-injection
